* Minibuffer Configuration
  #+BEGIN_SRC emacs-lisp
  (use-package vertico
    :ensure t
    :init (vertico-mode))

  (use-package savehist
    :ensure t
    :init (savehist-mode))

  (use-package orderless
    :ensure t
    :init
    (setq completion-styles '(orderless basic)
          completion-category-defaults nil
          completion-category-overrides '((file (styles partial-completion)))))

  (use-package consult
    :ensure t
    :bind
    (("C-s" . consult-line)
     ("C-x b" . consult-buffer)
     ("C-x 4 b" . consult-buffer-other-window)
     ("C-x 5 b" . consult-buffer-other-frame)
     ("M-g o" . consult-outline)))

  (use-package consult-dir
    :ensure t
    :bind (("C-x d" . consult-dir)
           :map vertico-map
           ("C-x d" . consult-dir)
           ("C-x C-j" . consult-dir-jump-file)))

  (use-package marginalia
    :ensure t
    :bind ("M-A" . marginalia-cycle)
    :init
    (marginalia-mode))

  (use-package embark
    :ensure t
    :bind
    (("C-." . embark-act))
    :init
    (setq prefix-help-command #'embark-prefix-help-command))

  (use-package embark-consult
    :ensure t
    :after (embark consult)
    :demand t
    :hook
    (embark-collect-mode . consult-preview-at-point-mode))

  (use-package which-key
    :ensure t
    :config (which-key-mode))
#+END_SRC
