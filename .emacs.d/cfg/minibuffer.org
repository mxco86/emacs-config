* Minibuffer Configuration
  #+BEGIN_SRC emacs-lisp
  (use-package selectrum
    :ensure t
    :config
    (selectrum-mode t)
    (recentf-mode t))

  (use-package selectrum-prescient
    :ensure t
    :config
    (selectrum-prescient-mode t)
    (prescient-persist-mode t))

  (use-package consult
    :ensure t
    :bind
    (("C-s" . consult-line)
     ("C-x b" . consult-buffer)
     ("C-x 4 b" . consult-buffer-other-window)
     ("C-x 5 b" . consult-buffer-other-frame)
     ("M-g o" . consult-outline)))

  (use-package consult-dir
    :ensure t
    :bind (("C-x d" . consult-dir)
           :map selectrum-minibuffer-map
           ("C-x d" . consult-dir)
           ("C-x C-j" . consult-dir-jump-file)))

  (use-package marginalia
    :ensure t
    :bind ("M-A" . marginalia-cycle)
    :init
    (marginalia-mode))

  (use-package embark
    :ensure t
    :bind
    (("C-." . embark-act))
    :init
    (setq prefix-help-command #'embark-prefix-help-command))

  ;; Consult users will also want the embark-consult package.
  (use-package embark-consult
    :ensure t
    :after (embark consult)
    :demand t
    :hook
    (embark-collect-mode . consult-preview-at-point-mode))
  #+END_SRC
